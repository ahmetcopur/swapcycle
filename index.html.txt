<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Changed title to be generic for the screenshot -->
    <title>SwapCycle Prototype</title>
    <style>
        :root {
            --primary: #2ecc71;
            --dark: #2c3e50;
            --light: #ecf0f1;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; background: #f4f7f6; color: #333; }
        .container { max-width: 480px; margin: 0 auto; background: white; min-height: 100vh; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
        
        /* Header */
        header { background: var(--primary); color: white; padding: 20px; text-align: center; }
        h1 { margin: 0; font-size: 24px; }
        .subhead { font-size: 14px; opacity: 0.9; margin-top: 5px; }
        
        /* Wallet */
        .wallet { background: var(--dark); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; }
        .credits { font-weight: bold; font-size: 18px; color: #f1c40f; }

        /* Nav */
        nav { display: flex; border-bottom: 1px solid #eee; }
        nav button { flex: 1; padding: 15px; border: none; background: white; font-weight: bold; color: #777; cursor: pointer; }
        nav button.active { color: var(--primary); border-bottom: 3px solid var(--primary); }

        /* Content */
        .view { display: none; padding: 20px; }
        .view.active { display: block; }

        /* Marketplace Grid */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .item-card { border: 1px solid #eee; border-radius: 8px; overflow: hidden; background: white; }
        .item-img { height: 120px; background: #ddd; display: flex; align-items: center; justify-content: center; color: #888; }
        .item-details { padding: 10px; }
        .item-title { font-weight: bold; font-size: 14px; margin-bottom: 5px; }
        .item-cost { color: var(--primary); font-size: 12px; font-weight: bold; }
        .btn-claim { width: 100%; margin-top: 10px; padding: 8px; background: var(--dark); color: white; border: none; border-radius: 4px; cursor: pointer; }

        /* Form */
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 12px; color: #555; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        .btn-submit { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: bold; cursor: pointer; }
        
        /* Notification */
        .notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 10px 20px; border-radius: 20px; font-size: 12px; display: none; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>SwapCycle</h1>
        <div class="subhead">Clear out the old. Pick up the new.</div>
    </header>

    <div class="wallet">
        <span>My Balance</span>
        <span class="credits" id="creditDisplay">2 Credits</span>
    </div>

    <nav>
        <button onclick="switchView('market')" id="nav-market" class="active">Marketplace</button>
        <button onclick="switchView('sell')" id="nav-sell">List Item (+1 Credit)</button>
    </nav>

    <!-- Marketplace View -->
    <div id="view-market" class="view active">
        <h3>Available on Campus</h3>
        <div class="grid" id="marketGrid">
            <!-- Items injected by JS -->
        </div>
    </div>

    <!-- Sell View -->
    <div id="view-sell" class="view">
        <h3>List an Item</h3>
        <p style="font-size: 13px; color: #666; margin-bottom: 20px;">Upload details to earn 1 Swap Credit instantly.</p>
        
        <div class="form-group">
            <label>Item Name</label>
            <input type="text" id="itemName" placeholder="e.g. Intro to Calc Textbook">
        </div>
        <div class="form-group">
            <label>Category</label>
            <select id="itemCat">
                <option>Books</option>
                <option>Kitchenware</option>
                <option>Electronics</option>
                <option>Clothing</option>
            </select>
        </div>
        <div class="form-group">
            <label>Condition</label>
            <select>
                <option>Like New</option>
                <option>Good</option>
                <option>Fair</option>
            </select>
        </div>
        <button class="btn-submit" onclick="listItem()">List Item & Earn Credit</button>
    </div>
</div>

<div class="notification" id="notif">Action Successful!</div>

<script>
    // State
    let credits = 2;
    // Uses generic item names suitable for student context
    let items = [
        { id: 1, name: "Desk Lamp", cat: "Electronics", cost: 1 },
        { id: 2, name: "IKEA Kettle", cat: "Kitchenware", cost: 1 },
        { id: 3, name: "Psych 101 Book", cat: "Books", cost: 1 },
        { id: 4, name: "Hoodie (M)", cat: "Clothing", cost: 1 }
    ];

    // Init
    function renderMarket() {
        const grid = document.getElementById('marketGrid');
        grid.innerHTML = '';
        items.forEach(item => {
            grid.innerHTML += `
                <div class="item-card">
                    <div class="item-img">${item.cat}</div>
                    <div class="item-details">
                        <div class="item-title">${item.name}</div>
                        <div class="item-cost">${item.cost} Credit</div>
                        <button class="btn-claim" onclick="claimItem(${item.id})">Claim</button>
                    </div>
                </div>
            `;
        });
        document.getElementById('creditDisplay').innerText = credits + " Credits";
    }

    // Actions
    function switchView(viewName) {
        document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('nav button').forEach(el => el.classList.remove('active'));
        document.getElementById('view-' + viewName).classList.add('active');
        document.getElementById('nav-' + viewName).classList.add('active');
    }

    function listItem() {
        const name = document.getElementById('itemName').value;
        const cat = document.getElementById('itemCat').value;
        
        if(!name) return alert("Please enter an item name");

        items.unshift({ id: Date.now(), name: name, cat: cat, cost: 1 });
        credits++;
        
        showNotif("Item Listed! +1 Credit Earned");
        document.getElementById('itemName').value = ""; // reset
        switchView('market');
        renderMarket();
    }

    function claimItem(id) {
        if(credits <= 0) return alert("Not enough credits! List something first.");
        
        items = items.filter(i => i.id !== id);
        credits--;
        showNotif("Item Claimed! -1 Credit");
        renderMarket();
    }

    function showNotif(msg) {
        const n = document.getElementById('notif');
        n.innerText = msg;
        n.style.display = 'block';
        setTimeout(() => n.style.display = 'none', 3000);
    }

    // Start
    renderMarket();
</script>

</body>
</html>
